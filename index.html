<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyste Financier | Outil d'Analyse d'Entreprises</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <h1>Analyste Financier</h1>
                </div>
                <p class="tagline">Outil d'analyse fondamentale pour investisseurs avisés</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Import Section -->
            <section class="import-section card">
                <div class="section-header">
                    <h2><i class="fas fa-download"></i> Import Automatique</h2>
                    <p>Importez les données financières depuis une source en ligne</p>
                </div>

                <div class="import-controls">
                    <div class="input-group">
                        <label for="companyUrl">
                            <i class="fas fa-link"></i>
                            URL de l'action à analyser
                        </label>
                        <input type="text" id="companyUrl" placeholder="https://fr.investing.com/equities/apple-computer-inc-income-statement">
                        <small>Collez le lien de la page de l'action sur Investing.com, Boursorama, etc.</small>
                    </div>

                    <div class="import-settings">
                        <div class="input-group">
                            <label for="dataYear">
                                <i class="fas fa-calendar"></i>
                                Année des données
                            </label>
                            <select id="dataYear">
                                <option value="2024">2024</option>
                                <option value="2023" selected>2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label for="currency">
                                <i class="fas fa-euro-sign"></i>
                                Devise
                            </label>
                            <select id="currency">
                                <option value="EUR" selected>Euro (€)</option>
                                <option value="USD">Dollar US ($)</option>
                                <option value="GBP">Livre Sterling (£)</option>
                                <option value="CHF">Franc Suisse (CHF)</option>
                            </select>
                        </div>
                    </div>

                    <button onclick="importerDonnees()" class="import-btn">
                        <i class="fas fa-cloud-download-alt"></i>
                        Importer les Données
                    </button>

                    <div id="importStatus" class="import-status"></div>
                </div>
            </section>

            <!-- Input Section -->
            <section class="input-section card">
                <div class="section-header">
                    <h2><i class="fas fa-database"></i> Données de l'Entreprise</h2>
                    <p>Saisissez ou vérifiez les données financières de l'entreprise à analyser</p>
                </div>

                <div class="company-basic">
                    <div class="input-group">
                        <label for="companyName">
                            <i class="fas fa-building"></i>
                            Nom de l'entreprise
                        </label>
                        <input type="text" id="companyName" placeholder="Ex: Apple Inc.">
                    </div>
                </div>

                <!-- Categories en onglets -->
                <div class="categories-tabs">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="sante">Santé Financière</button>
                        <button class="tab-btn" data-tab="rentabilite">Rentabilité</button>
                        <button class="tab-btn" data-tab="evaluation">Évaluation</button>
                        <button class="tab-btn" data-tab="croissance">Croissance</button>
                    </div>

                    <div class="tab-content active" id="sante-tab">
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Actif à Court Terme (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="currentAssets" placeholder="1,000,000">
                                <small>Liquidités et actifs convertibles en cash sous 1 an</small>
                            </div>
                            <div class="input-group">
                                <label>Passif à Court Terme (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="currentLiabilities" placeholder="500,000">
                                <small>Dettes à payer dans l'année</small>
                            </div>
                            <div class="input-group">
                                <label>Dette Totale (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="totalDebt" placeholder="2,000,000">
                                <small>Dette financière à court et long terme</small>
                            </div>
                            <div class="input-group">
                                <label>Capitaux Propres (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="shareholdersEquity" placeholder="5,000,000">
                                <small>Valeur nette de l'entreprise</small>
                            </div>
                            <div class="input-group">
                                <label>EBIT (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="ebit" placeholder="1,500,000">
                                <small>Résultat d'exploitation</small>
                            </div>
                            <div class="input-group">
                                <label>Frais Financiers (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="interestExpense" placeholder="100,000">
                                <small>Intérêts sur la dette</small>
                            </div>
                            <div class="input-group">
                                <label>Cash Flow Opérationnel (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="operatingCashFlow" placeholder="1,800,000">
                                <small>Cash généré par l'activité</small>
                            </div>
                            <div class="input-group">
                                <label>Dépenses en Capital (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="capitalExpenditures" placeholder="500,000">
                                <small>Investissements en immobilisations</small>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="rentabilite-tab">
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Bénéfice Net (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="netIncome" placeholder="1,200,000">
                                <small>Profit après tous les frais et impôts</small>
                            </div>
                            <div class="input-group">
                                <label>Chiffre d'Affaires (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="revenue" placeholder="10,000,000">
                                <small>Revenus totaux de l'entreprise</small>
                            </div>
                            <div class="input-group">
                                <label>NOPAT (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="nopat" placeholder="1,300,000">
                                <small>Résultat opérationnel après impôts</small>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="evaluation-tab">
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Prix de l'Action (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="sharePrice" placeholder="150">
                                <small>Cours actuel de l'action</small>
                            </div>
                            <div class="input-group">
                                <label>Nombre d'Actions</label>
                                <input type="number" id="sharesOutstanding" placeholder="10,000,000">
                                <small>Actions en circulation</small>
                            </div>
                            <div class="input-group">
                                <label>Valeur Comptable par Action (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="bookValuePerShare" placeholder="50">
                                <small>Capitaux propres par action</small>
                            </div>
                            <div class="input-group">
                                <label>Dividende par Action (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="dividendPerShare" placeholder="3">
                                <small>Dividende annuel par action</small>
                            </div>
                            <div class="input-group">
                                <label>Croissance Annuelle du BPA (%)</label>
                                <input type="number" id="epsGrowth" placeholder="15">
                                <small>Taux de croissance des bénéfices</small>
                            </div>
                            <div class="input-group">
                                <label>EBITDA (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="ebitda" placeholder="2,000,000">
                                <small>Excédent brut d'exploitation</small>
                            </div>
                            <div class="input-group">
                                <label>Trésorerie (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="cash" placeholder="1,000,000">
                                <small>Cash et équivalents de cash</small>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="croissance-tab">
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Croissance du CA sur 1 an (%)</label>
                                <input type="number" id="revenueGrowth" placeholder="12">
                                <small>Évolution du chiffre d'affaires</small>
                            </div>
                            <div class="input-group">
                                <label>BPA de l'année précédente (<span class="currency-symbol">€</span>)</label>
                                <input type="number" id="previousEPS" placeholder="4.5">
                                <small>Bénéfice par action de l'an dernier</small>
                            </div>
                            <div class="input-group">
                                <label>Prix vs MM200j (%)</label>
                                <input type="number" id="priceVsMA200" placeholder="5">
                                <small>Écart avec la moyenne mobile 200j</small>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="lancerAnalyse()" class="analyze-btn">
                    <i class="fas fa-rocket"></i>
                    Lancer l'Analyse
                </button>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section" style="display: none;">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Résultats de l'Analyse</h2>
                    <p>Analyse détaillée de <span id="resultsCompanyName" class="company-name">l'entreprise</span></p>
                </div>

                <!-- Score Summary -->
                <div class="score-summary card">
                    <div class="score-card">
                        <div class="score-circle">
                            <span id="globalScore">0%</span>
                        </div>
                        <div class="score-info">
                            <h3>Score Global</h3>
                            <p>Performance globale de l'entreprise</p>
                        </div>
                    </div>
                    <div class="score-breakdown">
                        <div class="breakdown-item">
                            <span class="breakdown-label">Santé</span>
                            <div class="breakdown-bar">
                                <div class="breakdown-fill" id="healthScore" style="width: 0%"></div>
                            </div>
                            <span class="breakdown-value" id="healthValue">0%</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Rentabilité</span>
                            <div class="breakdown-bar">
                                <div class="breakdown-fill" id="profitabilityScore" style="width: 0%"></div>
                            </div>
                            <span class="breakdown-value" id="profitabilityValue">0%</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Évaluation</span>
                            <div class="breakdown-bar">
                                <div class="breakdown-fill" id="valuationScore" style="width: 0%"></div>
                            </div>
                            <span class="breakdown-value" id="valuationValue">0%</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Croissance</span>
                            <div class="breakdown-bar">
                                <div class="breakdown-fill" id="growthScore" style="width: 0%"></div>
                            </div>
                            <span class="breakdown-value" id="growthValue">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Results Table -->
                <div class="results-table card">
                    <div class="table-container">
                        <table id="resultsTable">
                            <!-- Le tableau sera généré par JavaScript -->
                        </table>
                    </div>
                </div>

                <!-- Conclusion -->
                <div id="conclusion" class="conclusion-card">
                    <!-- La conclusion sera générée par JavaScript -->
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>© 2024 Analyste Financier - Outil éducatif pour l'analyse fondamentale</p>
            <p class="disclaimer">Les résultats sont fournis à titre indicatif et ne constituent pas un conseil en investissement.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
